
		<html>
	
		<head> 
	

 		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Sunburst - Connected Sunburst</title>
		<!-- CSS Files -->
                <link type="text/css" href="../Jit/Examples/css/base.css" rel="stylesheet" />
		<link type="text/css" href="../Jit/Examples/css/base.css" rel="stylesheet" />
                <link type="text/css" href="../Jit/Examples/css/Sunburst.css" rel="stylesheet" />

		<!--[if IE]><script language="javascript" type="text/javascript" src="http://flows.hpcf.upr.edu/~albert/Jit/Extras/excanvas.js"></script><![endif]-->

		<!-- JIT Library File -->

                <script language="javascript" type="text/javascript"src="../Jit/jit.js"></script>
		<!--script language="javascript" type="text/javascript" src="/var/www/html/development/graph.js"></script-->

                
		<script language="javascript" type="text/javascript">



                
			

  			var labelType, useGradients, nativeTextSupport, animate;

			(function() {
  			var ua = navigator.userAgent,
      			iStuff = ua.match(/iPhone/i) || ua.match(/iPad/i),
      			typeOfCanvas = typeof HTMLCanvasElement,
      			nativeCanvasSupport = (typeOfCanvas == 'object' || typeOfCanvas == 'function'),
      			textSupport = nativeCanvasSupport
        		&& (typeof document.createElement('canvas').getContext('2d').fillText =='function');
  			//I'm setting this based on the fact that ExCanvas provides text support for IE
  			//and that as of today iPhone/iPad current text support is lame
  			labelType = (!nativeCanvasSupport || (textSupport && !iStuff))? 'Native' : 'HTML';
  			nativeTextSupport = labelType == 'Native';
  			useGradients = nativeCanvasSupport;
  			animate = !(iStuff || !nativeCanvasSupport);})();

			var Log = {
  			elem: false,
  			write: function(text){
    			if (!this.elem)
      			this.elem = document.getElementById('log');
    			this.elem.innerHTML = text;
    			this.elem.style.left = (500 - this.elem.offsetWidth / 2) + 'px';
  						}


				};


			function init(){
			

  			//init data
  			var json = [
      			//"root" node is invisible
				{
				"id" : "root" ,
				"name" :"" ,
				"data" :{
				"$type": "none" 
				},"adjacencies": [
				{
					"nodeTo": "1",
					"data": {
					'$type': 'none'
						}
		  			},{
					"nodeTo": "2",
					"data": {
					'$type': 'none'
						}
		  			},{
					"nodeTo": "3",
					"data": {
					'$type': 'none'
						}
		  			},{
					"nodeTo": "4",
					"data": {
					'$type': 'none'
						}
		  			},{
					"nodeTo": "7",
					"data": {
					'$type': 'none'
						}
		  			},{
					"nodeTo": "10",
					"data": {
					'$type': 'none'
						}
		  			},{
					"nodeTo": "11",
					"data": {
					'$type': 'none'
						}
		  			},{
					"nodeTo": "12",
					"data": {
					'$type': 'none'
						}
		  			},{
					"nodeTo": "29",
					"data": {
					'$type': 'none'
						}
		  			}]
			},  {  "adjacencies": [ { 
                                    "nodeTo": "10",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#DF0101",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 91482888,
                                                                                                                                                                                                                                                   "$Packets": 66378,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 9
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ,{ 
                                    "nodeTo": "3",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#DF0101",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 0,
                                                                                                                                                                                                                                                   "$Packets": 0,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ,{ 
                                    "nodeTo": "29",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#DF0101",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 0,
                                                                                                                                                                                                                                                   "$Packets": 0,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ,{ 
                                    "nodeTo": "7",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#DF0101",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 19217789,
                                                                                                                                                                                                                                                   "$Packets": 53802,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 4932
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ],
                            "data": {
                            "$angularWidth":10,
                            "$height" : 50,
                            "$color": "#A94442",
                            //"$color": "#E25D33",
                                                                                                                                                                                                                                           "$All_Octects": 110700677,
                                                                                                                                                                                                                                           "$All_Packets": 120180,
                                                                                                                                                                                                                                           "$All_Flows": 4941
                                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                                           "id": "1",
                                                                                                                                                                                                                                                                                                                                                                                                                                                          "name": "RUM"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }

                             ,{  "adjacencies": [ { 
                                    "nodeTo": "7",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#DF0101",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 22243664,
                                                                                                                                                                                                                                                   "$Packets": 20333,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 1660
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ],
                            "data": {
                            "$angularWidth":10,
                            "$height" : 50,
                            "$color": "#A94442",
                            //"$color": "#E25D33",
                                                                                                                                                                                                                                           "$All_Octects": 22243664,
                                                                                                                                                                                                                                           "$All_Packets": 20333,
                                                                                                                                                                                                                                           "$All_Flows": 1660
                                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                                           "id": "2",
                                                                                                                                                                                                                                                                                                                                                                                                                                                          "name": "RCM"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }

                             ,{  "adjacencies": [ { 
                                    "nodeTo": "1",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#DF0101",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 0,
                                                                                                                                                                                                                                                   "$Packets": 0,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ,{ 
                                    "nodeTo": "10",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#DF0101",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 173948,
                                                                                                                                                                                                                                                   "$Packets": 861,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 69
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ,{ 
                                    "nodeTo": "7",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#DF0101",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 11070623,
                                                                                                                                                                                                                                                   "$Packets": 23151,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 3716
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ],
                            "data": {
                            "$angularWidth":10,
                            "$height" : 50,
                            "$color": "#A94442",
                            //"$color": "#E25D33",
                                                                                                                                                                                                                                           "$All_Octects": 11244571,
                                                                                                                                                                                                                                           "$All_Packets": 24012,
                                                                                                                                                                                                                                           "$All_Flows": 3785
                                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                                           "id": "3",
                                                                                                                                                                                                                                                                                                                                                                                                                                                          "name": "RRP"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }

                             ,{  "adjacencies": [ { 
                                    "nodeTo": "10",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#00FFFF",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 0,
                                                                                                                                                                                                                                                   "$Packets": 0,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ,{ 
                                    "nodeTo": "7",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#DF0101",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 8096209,
                                                                                                                                                                                                                                                   "$Packets": 9686,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 1378
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ],
                            "data": {
                            "$angularWidth":10,
                            "$height" : 50,
                            "$color": "#A94442",
                            //"$color": "#E25D33",
                                                                                                                                                                                                                                           "$All_Octects": 8096209,
                                                                                                                                                                                                                                           "$All_Packets": 9686,
                                                                                                                                                                                                                                           "$All_Flows": 1378
                                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                                           "id": "4",
                                                                                                                                                                                                                                                                                                                                                                                                                                                          "name": "CAYEY"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }

                             ,{  "adjacencies": [ { 
                                    "nodeTo": "1",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#DF0101",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 149872884,
                                                                                                                                                                                                                                                   "$Packets": 115981,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 4733
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ,{ 
                                    "nodeTo": "10",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#DF0101",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 96016,
                                                                                                                                                                                                                                                   "$Packets": 435,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 160
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ],
                            "data": {
                            "$angularWidth":10,
                            "$height" : 50,
                            "$color": "#A94442",
                            //"$color": "#E25D33",
                                                                                                                                                                                                                                           "$All_Octects": 149968900,
                                                                                                                                                                                                                                           "$All_Packets": 116416,
                                                                                                                                                                                                                                           "$All_Flows": 4893
                                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                                           "id": "7",
                                                                                                                                                                                                                                                                                                                                                                                                                                                          "name": "FIU"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }

                             ,{  "adjacencies": [ { 
                                    "nodeTo": "12",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#DF0101",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 0,
                                                                                                                                                                                                                                                   "$Packets": 0,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ,{ 
                                    "nodeTo": "4",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#DF0101",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 0,
                                                                                                                                                                                                                                                   "$Packets": 0,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ],
                            "data": {
                            "$angularWidth":10,
                            "$height" : 50,
                            "$color": "#A94442",
                            //"$color": "#E25D33",
                                                                                                                                                                                                                                           "$All_Octects": 0,
                                                                                                                                                                                                                                           "$All_Packets": 0,
                                                                                                                                                                                                                                           "$All_Flows": 0
                                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                                           "id": "10",
                                                                                                                                                                                                                                                                                                                                                                                                                                                          "name": "HPCf"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }

                             ,{  "adjacencies": [ { 
                                    "nodeTo": "7",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#DF0101",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 28637984,
                                                                                                                                                                                                                                                   "$Packets": 22397,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 1470
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ],
                            "data": {
                            "$angularWidth":10,
                            "$height" : 50,
                            "$color": "#A94442",
                            //"$color": "#E25D33",
                                                                                                                                                                                                                                           "$All_Octects": 28637984,
                                                                                                                                                                                                                                           "$All_Packets": 22397,
                                                                                                                                                                                                                                           "$All_Flows": 1470
                                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                                           "id": "11",
                                                                                                                                                                                                                                                                                                                                                                                                                                                          "name": "CUH"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }

                             ,{  "adjacencies": [ { 
                                    "nodeTo": "10",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#DF0101",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 0,
                                                                                                                                                                                                                                                   "$Packets": 0,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ,{ 
                                    "nodeTo": "7",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#DF0101",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 71975,
                                                                                                                                                                                                                                                   "$Packets": 357,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 147
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ],
                            "data": {
                            "$angularWidth":10,
                            "$height" : 50,
                            "$color": "#A94442",
                            //"$color": "#E25D33",
                                                                                                                                                                                                                                           "$All_Octects": 71975,
                                                                                                                                                                                                                                           "$All_Packets": 357,
                                                                                                                                                                                                                                           "$All_Flows": 147
                                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                                           "id": "12",
                                                                                                                                                                                                                                                                                                                                                                                                                                                          "name": "PSM"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }

                             ,{  "adjacencies": [ { 
                                    "nodeTo": "1",

                                    "data": {
                                                                                                                                                                                                                                                   "$color": "#000000",
                                          
                                    "$lineWidth":4,
                                                                                                                                                                                                                                                   "$Octects": 0,
                                                                                                                                                                                                                                                   "$Packets": 0,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  "$Flows": 0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             }
                                                   
                                     ],
                            "data": {
                            "$angularWidth":10,
                            "$height" : 50,
                            "$color": "#A94442",
                            //"$color": "#E25D33",
                                                                                                                                                                                                                                           "$All_Octects": 0,
                                                                                                                                                                                                                                           "$All_Packets": 0,
                                                                                                                                                                                                                                           "$All_Flows": 0
                                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                                           "id": "29",
                                                                                                                                                                                                                                                                                                                                                                                                                                                          "name": "AO"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }

                            ];//end
  //init Sunburst
  
  var sb = new $jit.Sunburst({
    //id container for the visualization
    injectInto: 'infovis',
    //Change node and edge styles such as
    //color, width, lineWidth and edge types
    Node: {
      overridable: true,
      type: useGradients? 'gradient-multipie' : 'multipie'
    },
    Edge: {
      overridable: true,
      type: 'hyperline',
      lineWidth: 2,
      color: '#0000FF'
    },
    //Draw canvas text. Can also be
    //'HTML' or 'SVG' to draw DOM labels
    Label: {
      type: nativeTextSupport? 'Native' : 'SVG'
    },
    //Add animations when hovering and clicking nodes
    NodeStyles: {
      enable: true,
      type: 'Native',
      stylesClick: {
       // 'color': '#96807F'
       "color": "#E25D33",
        //'color': '#DD3333'
      },
      stylesHover: {
        //'color': '#96807F'
       "color": "#E25D33",
       // 'color': '#DD3333'
      }, 
      //duration: 700
    },
      //Add Tips
          Tips: {
                enable: true,
                      onShow: function(tip, node) {
                              //count connections
                                      var count = 0;
                                              node.eachAdjacency(function() { count++; });//loop to find the ammount of connections
                                                      //display node info in tooltip
                                                              //This displays the sum of all the input and output data frmo the edges of the node that is being moused over 
                                                                      tip.innerHTML = "<div class='tip-title'> All Octects: " + node.getData('All_Octects') +'<br/> All Packets: ' + node.getData('All_Packets')+'<br/> Al Flows: ' +node.getData('All_Flows')+ "</div>"
                                                                                + "<div class='tip-text'><b>connections:</b> " + (count -1)  + "</div>"; //count -1 to eliminate root connection 
                                                                                      }
                                                                                          },

    Events: {
      enable: true,
      type: 'Native',
      //List node connections onClick

      
      onClick: function(node) {
              if(!node) return;
                      // Build the right column relations list.
                              // This is done by traversing the clicked node connections.
                                      var html = "<h4>" + node.name + "</h4><b> connections:</b><ul><li>",
                                                  list = [];
                                                it=0;//iterator
                                                          node.eachAdjacency(function(adj){//Iterates over every edge and places the name of the destination and the data values on a list
                                                                 if (it!=0){//to void displaying the root
                                                                list.push(adj.nodeTo.name);
                                                                           list.push('Octects: '+adj.getData('Octects'));//These values are defined in the data part of the edge
                                                                                    list.push('Packets: '+adj.getData('Packets'));
                                                                                             list.push('Flows: '+adj.getData('Flows')+'<br/><br/>');
                                                                                             }
                                                                it++;
                                                                                                     

                                                                                                             });

                $jit.id('inner-details').innerHTML = html + list.join('</li><li>') + '</li></ul>';//Formats the array into a list in html to be displayed

                  }
	

    },
    levelDistance: 190,
    // Only used when Label type is 'HTML' or 'SVG'
    // Add text to the labels. 
    // This method is only triggered on label creation
    onCreateLabel: function(domElement, node){
 
     var labels = sb.config.Label.type;
      if (labels === 'HTML') {
        domElement.innerHTML = node.name;
      } else if (labels === 'SVG') {
        domElement.firstChild.appendChild(document.createTextNode(node.name));
      }
    },
    // Only used when Label type is 'HTML' or 'SVG'
    // Change node styles when labels are placed
    // or moved.
    onPlaceLabel: function(domElement, node){
      var labels = sb.config.Label.type;
      if (labels === 'SVG') {
        var fch = domElement.firstChild;
        var style = fch.style;
        style.display = '';
        style.cursor = 'pointer';
        style.fontSize = "0.8em";
        fch.setAttribute('fill', "#fff");
      } else if (labels === 'HTML') {
        var style = domElement.style;
        style.display = '';
        style.cursor = 'pointer';
        if (node._depth <= 1) {
          style.fontSize = "0.8em";
          style.color = "eddd";
        } 
        var left = parseInt(style.left);
        var w = domElement.offsetWidth;
        style.left = (left - w / 2) + 'px';
      }
    }
  });
  // load JSON data.
  sb.loadJSON(json);
  // compute positions and plot.       
  sb.refresh();
  //end
}




                
                
                </script>
		</head> 
		<body class="body_back" onload="init();"> 
		
		<div id="container">

		<div id="center-container">
		
			
   		 <div id="infovis"></div>   
		</div>
		<div id="right-container">


		<div id="inner-details"></div> 
		</div>
		
		</body>
		</html>
		